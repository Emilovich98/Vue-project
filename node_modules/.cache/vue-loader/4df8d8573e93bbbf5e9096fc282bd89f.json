{"remainingRequest":"/Users/emilbruunlarsen/Documents/Skole dokumenter/3. Semester/Projects/vue-cli-fire-posts/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/emilbruunlarsen/Documents/Skole dokumenter/3. Semester/Projects/vue-cli-fire-posts/src/views/Update.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/emilbruunlarsen/Documents/Skole dokumenter/3. Semester/Projects/vue-cli-fire-posts/src/views/Update.vue","mtime":1606064241520},{"path":"/Users/emilbruunlarsen/Documents/Skole dokumenter/3. Semester/Projects/vue-cli-fire-posts/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/emilbruunlarsen/Documents/Skole dokumenter/3. Semester/Projects/vue-cli-fire-posts/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/emilbruunlarsen/Documents/Skole dokumenter/3. Semester/Projects/vue-cli-fire-posts/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/emilbruunlarsen/Documents/Skole dokumenter/3. Semester/Projects/vue-cli-fire-posts/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHBvc3RSZWYgfSBmcm9tICIuLi9maXJlYmFzZS1kYiI7CmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJVcGRhdGUiLAogICAgcHJvcHM6IHsKICAgICAgICBwb3N0OiBPYmplY3QKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgdHJpZ2dlckNob29zZUltZygpIHsKICAgICAgICAgICAgdGhpcy4kcmVmcy5maWxlSW5wdXQuY2xpY2soKTsKICAgICAgICB9LAogICAgICAgIHByZXZpZXdJbWFnZSgpIHsKICAgICAgICAgICAgY29uc3QgaW1hZ2VGaWxlID0gdGhpcy4kcmVmcy5maWxlSW5wdXQuZmlsZXNbMF07CiAgICAgICAgICAgIGNvbnN0IGZpbGVSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOwogICAgICAgICAgICBmaWxlUmVhZGVyLm9ubG9hZCA9IGV2ZW50ID0+IHsKICAgICAgICAgICAgICAgIHRoaXMucG9zdC5pbWFnZSA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGZpbGVSZWFkZXIucmVhZEFzRGF0YVVSTChpbWFnZUZpbGUpOwogICAgICAgIH0sCiAgICAgICAgdXBkYXRlUG9zdCgpIHsKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5wb3N0KTsKCiAgICAgICAgICAgIHBvc3RSZWYuZG9jKHRoaXMucG9zdC5pZCkuc2V0KHsKICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLnBvc3QuZGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICBpbWFnZTogdGhpcy5wb3N0LmltYWdlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi8iKTsKICAgICAgICB9ICAgCiAgICB9Cn0K"},{"version":3,"sources":["Update.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Update.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"update\">\n    <h1 class=\"heading\">Update</h1>\n    <form class=\"create-container\">\n      <input\n        class=\"description-input\"\n        type=\"text\"\n        v-model=\"post.description\"\n        placeholder=\"Type a description here\"\n        required\n      />\n      <input\n        class=\"hide-button\"\n        type=\"file\"\n        ref=\"fileInput\"\n        accept=\"image/*\"\n        v-on:change=\"previewImage\"\n      />\n      <button class=\"choose-image\" type=\"button\" v-on:click=\"triggerChooseImg\">Choose image</button>\n      <div class=\"image-preview-container\">\n        <img :src=\"post.image\" class=\"image-preview\" />\n      </div>\n      <button type=\"button\" v-on:click=\"updatePost\">Update post</button>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { postRef } from \"../firebase-db\";\nexport default {\n    name: \"Update\",\n    props: {\n        post: Object\n    },\n    methods: {\n        triggerChooseImg() {\n            this.$refs.fileInput.click();\n        },\n        previewImage() {\n            const imageFile = this.$refs.fileInput.files[0];\n            const fileReader = new FileReader();\n            fileReader.onload = event => {\n                this.post.image = event.target.result;\n            };\n            fileReader.readAsDataURL(imageFile);\n        },\n        updatePost() {\n            console.log(this.post);\n\n            postRef.doc(this.post.id).set({\n                description: this.post.description,\n                image: this.post.image\n            });\n            \n            this.$router.push(\"/\");\n        }   \n    }\n}\n</script>\n\n<style>\n</style>"]}]}